# Apache Configuration for Linux passwd File Viewer
# Add this to your Apache site configuration or .htaccess file

# Basic CORS configuration for passwd file
<Files "passwd">
    Header always set Access-Control-Allow-Origin "*"
    Header always set Access-Control-Allow-Methods "GET, OPTIONS"
    Header always set Access-Control-Allow-Headers "Origin, X-Requested-With, Content-Type, Accept"
    
    # Handle preflight OPTIONS requests
    RewriteEngine On
    RewriteCond %{REQUEST_METHOD} OPTIONS
    RewriteRule ^(.*)$ $1 [R=200,L]
</Files>

# For symbolic link files
<Files "*-live">
    Header always set Access-Control-Allow-Origin "*"
    Header always set Access-Control-Allow-Methods "GET, OPTIONS"
    Header always set Access-Control-Allow-Headers "Origin, X-Requested-With, Content-Type, Accept"
</Files>

# Direct /etc access (SECURITY WARNING - use with caution)
# Uncomment only if you understand the security implications
#Alias /etc /etc
#<Directory "/etc">
#    Require all granted
#    Options Indexes FollowSymLinks
#    AllowOverride None
#    Header always set Access-Control-Allow-Origin "*"
#    Header always set Access-Control-Allow-Methods "GET, OPTIONS"
#    Header always set Access-Control-Allow-Headers "Origin, X-Requested-With, Content-Type, Accept"
#</Directory>

# Security headers (recommended)
Header always set X-Content-Type-Options nosniff
Header always set X-Frame-Options DENY
Header always set X-XSS-Protection "1; mode=block"